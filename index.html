let balance = 0;
let perClick = 1;
let perSecond = 0;
let totalClicks = 0;

// Элементы DOM
const balanceElement = document.getElementById('balance');
const clickBtn = document.getElementById('click-btn');
const perClickElement = document.getElementById('per-click');
const perSecondElement = document.getElementById('per-second');
const totalClicksElement = document.getElementById('total-clicks');

// Клик по кнопке майнинга
clickBtn.addEventListener('click', () => {
  balance += perClick;
  totalClicks++;
  updateUI();
  
  // Анимация
  const bitcoinIcon = document.querySelector('.bitcoin-icon');
  bitcoinIcon.style.transform = 'scale(1.1)';
  setTimeout(() => {
    bitcoinIcon.style.transform = 'scale(1)';
  }, 200);
});

// Покупка улучшений
document.querySelectorAll('.buy-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    const cost = parseInt(this.getAttribute('data-cost'));
    if (balance >= cost) {
      balance -= cost;
      if (this.textContent.includes('Мощная видеокарта')) {
        perClick += 5;
      } else if (this.textContent.includes('Майнинг ферма')) {
        perSecond += 1;
      }
      this.disabled = true;
      this.innerHTML = '<i class="fa-solid fa-check"></i> Куплено';
      updateUI();
    }
  });
});

// Пассивный доход
setInterval(() => {
  balance += perSecond;
  updateUI();
}, 1000);

function updateUI() {
  balanceElement.textContent = balance;
  perClickElement.textContent = perClick;
  perSecondElement.textContent = perSecond;
  totalClicksElement.textContent = totalClicks;
}
